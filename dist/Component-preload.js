/**
* This file was auto-generated by SAP Web IDE build and includes all
* the source files required by SAPUI5 runtime for performance optimization.
* PLEASE DO NOT EDIT THIS FILE!! Changes will be overwritten the next time the build is run.
*/
jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "demosapui5ml/Component-preload",
	"modules": {
		"demosapui5ml/Component.js": "sap.ui.define([\n\t\"sap/ui/core/UIComponent\",\n\t\"sap/ui/Device\",\n\t\"demosapui5ml/model/models\"\n], function(UIComponent, Device, models) {\n\t\"use strict\";\n\n\treturn UIComponent.extend(\"demosapui5ml.Component\", {\n\n\t\tmetadata: {\n\t\t\tmanifest: \"json\"\n\t\t},\n\n\t\t/**\n\t\t * The component is initialized by UI5 automatically during the startup of the app and calls the init method once.\n\t\t * @public\n\t\t * @override\n\t\t */\n\t\tinit: function() {\n\t\t\t// call the base component's init function\n\t\t\tUIComponent.prototype.init.apply(this, arguments);\n\n\t\t\t// set the device model\n\t\t\tthis.setModel(models.createDeviceModel(), \"device\");\n\t\t}\n\t});\n});",
		"demosapui5ml/controller/main.controller.js": "sap.ui.define([\n\t\"sap/ui/core/mvc/Controller\",\n\t\"sap/m/MessageToast\",\n\t\"sap/ui/model/json/JSONModel\"\n], function(Controller, MessageToast, JSONModel) {\n\t\"use strict\";\n\tvar _sOCRDataModelName = \"OCR_Data\",\n\t\t_sMLApiModelName = \"ML_Api\",\n\t\t_srcImageURL = null,\n\t\t_srcPDFURL = null,\n\t\t_srcFileIsImage = null,\n\t\t_srcFileIsPDF = null;\n\n\treturn Controller.extend(\"sapui5ml.controller.main\", {\n\n\t\tonInit: function() {\n\t\t\t//OCR Data Model\n\t\t\tvar oJsonModel = new JSONModel();\n\t\t\tthis.getView().setModel(oJsonModel, _sOCRDataModelName);\n\t\t}, // onInit\n\n\t\tfileTypeMissmatch: function(oControlEvent) {\n\t\t\tMessageToast.show(\"Wrong file type!\");\n\t\t},\n\n\t\t/*Based on https://answers.sap.com/questions/375313/regarding-usage-of-optical-character-recognition-o.html*/\n\t\tgetOCR: function(oControlEvent) {\n\n\t\t\t// start the busy indicator\n\t\t\tthis.oBusyIndicator = new sap.m.BusyDialog();\n\t\t\tthis.oBusyIndicator.open();\n\n\t\t\tvar oView = this.getView();\n\t\t\tvar url = oView.getModel(_sMLApiModelName).getProperty(\"/urlOCR\");\n\t\t\tvar apiKey = oView.getModel(_sMLApiModelName).getProperty(\"/apiKey\");\n\n\t\t\tvar sHeaders = {\n\t\t\t\t\"Accept\": \"application/json\",\n\t\t\t\t\"APIKey\": apiKey\n\t\t\t};\n\n\t\t\tvar srcFile = null;\n\t\t\tthis._srcFileIsImage = false;\n\t\t\tthis._srcFileIsPDF = false;\n\n\t\t\t// keep a reference of the uploaded files\n\t\t\t//var mode = oControlEvent.getSource().data(\"mode\");\n\t\t\tfor (var fileIndex = 0; fileIndex < oControlEvent.getParameters().files.length; fileIndex++) {\n\t\t\t\tsrcFile = oControlEvent.getParameters().files[fileIndex];\n\t\t\t\tif (srcFile.type.match(\"image.*\")) {\n\t\t\t\t\tthis._srcImageURL = URL.createObjectURL(srcFile);\n\t\t\t\t\tthis._srcFileIsImage = true;\n\t\t\t\t\tthis._srcFileIsPDF = false;\n\t\t\t\t} else if (srcFile.type.match(\"pdf.*\")) {\n\t\t\t\t\tthis._srcPDFURL = URL.createObjectURL(srcFile);\n\t\t\t\t\tthis._srcFileIsImage = false;\n\t\t\t\t\tthis._srcFileIsPDF = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis._srcFileIsImage = false;\n\t\t\t\t\tthis._srcFileIsPDF = false;\n\t\t\t\t}\n\n\t\t\t\t// create the form data to be sent in the request\n\t\t\t\tvar formData = new window.FormData();\n\t\t\t\tformData.append(\"files\", srcFile, srcFile.name);\n\t\t\t\tformData.append(\"lang\", \"en\");\n\t\t\t\tformData.append(\"output_type\", \"txt\");\n\t\t\t\tformData.append(\"page_seg_mode\", \"1\");\n\t\t\t\tformData.append(\"model_type\", \"lstm_standard\");\n\n\t\t\t\t// increase request countor to close busy indicator\n\t\t\t\tthis.requestCount++;\n\n\t\t\t\t// call the service\n\t\t\t\t//this.callService(this, service, url, type, mode, apiKey, formData, processResult);\n\t\t\t\tthis.webRequest(formData, url, sHeaders, this.onOCRDetectedSuccess.bind(this), this.onOCRDetectedFailed);\n\t\t\t}\n\t\t},\n\n\t\tonOCRDetectedSuccess: function(data) {\n\t\t\tvar aData = data.predictions;\n\t\t\tvar sResult = \"\";\n\t\t\tif (aData && data.predictions.length > 0) {\n\t\t\t\tsResult = data.predictions[0]; //get first\n\t\t\t}\n\t\t\tthis.getView().getModel(_sOCRDataModelName).setProperty(\"/resultOCR\", sResult);\n\t\t\tthis.getView().getModel(_sOCRDataModelName).setProperty(\"/resultVisible\", true);\n\t\t\tif (this._srcFileIsImage === true) {\n\t\t\t\tthis.getView().getModel(_sOCRDataModelName).setProperty(\"/resultImageUrl\", this._srcImageURL);\n\t\t\t\tthis.getView().getModel(_sOCRDataModelName).setProperty(\"/resultPdfUrl\", undefined);\n\t\t\t} else if (this._srcFileIsPDF === true) {\n\t\t\t\tthis.getView().getModel(_sOCRDataModelName).setProperty(\"/resultPdfUrl\", this._srcPDFURL);\n\t\t\t\tthis.getView().getModel(_sOCRDataModelName).setProperty(\"/resultImageUrl\", undefined);\n\t\t\t}\n\n\t\t\t// close the busy indicator\n\t\t\tthis.oBusyIndicator.close();\n\t\t},\n\n\t\tonOCRDetectedFailed: function() {\n\t\t\tvar oView = this.getView();\n\t\t\t//console.log(data);\n\t\t\toView.getModel(_sOCRDataModelName).setProperty(\"/resultOCR\", null);\n\t\t\toView.getModel(_sOCRDataModelName).setProperty(\"/resultVisible\", false);\n\t\t\tthis.getView().getModel(_sOCRDataModelName).setProperty(\"/resultImageUrl\", undefined);\n\t\t\tthis.getView().getModel(_sOCRDataModelName).setProperty(\"/resultPdfUrl\", undefined);\n\n\t\t\t// close the busy indicator\n\t\t\tthis.oBusyIndicator.close();\n\t\t},\n\t\twebRequest: function(data, url, header, successcallback, failcallback) {\n\t\t\tvar ajaxRequest = {};\n\t\t\tajaxRequest.url = url;\n\t\t\tajaxRequest.method = \"POST\";\n\t\t\tajaxRequest.headers = header;\n\t\t\tajaxRequest.data = data;\n\t\t\tajaxRequest.processData = false;\n\t\t\tajaxRequest.contentType = false;\n\t\t\tajaxRequest.cache = false;\n\t\t\tajaxRequest.success = successcallback.bind(this);\n\t\t\tajaxRequest.error = failcallback.bind(this);\n\t\t\tjQuery.ajax(ajaxRequest);\n\t\t}\n\t});\n});",
		"demosapui5ml/model/models.js": "sap.ui.define([\n\t\"sap/ui/model/json/JSONModel\",\n\t\"sap/ui/Device\"\n], function(JSONModel, Device) {\n\t\"use strict\";\n\n\treturn {\n\n\t\tcreateDeviceModel: function() {\n\t\t\tvar oModel = new JSONModel(Device);\n\t\t\toModel.setDefaultBindingMode(\"OneWay\");\n\t\t\treturn oModel;\n\t\t}\n\t};\n});",
		"demosapui5ml/view/main.view.xml": "<mvc:View xmlns:mvc=\"sap.ui.core.mvc\" xmlns:unified=\"sap.ui.unified\" xmlns:l=\"sap.ui.layout\" xmlns=\"sap.m\" xmlns:f=\"sap.ui.layout.form\"\n\txmlns:custom=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\" controllerName=\"sapui5ml.controller.main\"\n\tdisplayBlock=\"true\">\n\t<App>\n\t\t<pages>\n\t\t\t<Page title=\"{i18n>appTitle}\">\n\t\t\t\t<content visible=\"{= typeof ${OCR_Data>/resultVisible} !== 'undefined'}\">\n\t\t\t\t\t<IconTabBar id=\"idIconTabBarMulti\" expanded=\"{device>/isNoPhone}\" class=\"sapUiResponsiveContentPadding\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<IconTabFilter icon=\"sap-icon://document-text\">\n\t\t\t\t\t\t\t\t<VBox class=\"sapUiSmallMargin\">\n\t\t\t\t\t\t\t\t\t<TextArea class=\"sapUiTinyMargin\" value=\"{OCR_Data>/resultOCR}\" placeholder=\"Output Text\" editable=\"false\" growing=\"true\"\n\t\t\t\t\t\t\t\t\t\tgrowingMaxLines=\"15\" width=\"100%\" visible=\"{= typeof ${OCR_Data>/resultOCR} !== 'undefined'}\"/>\n\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t\t<IconTabFilter icon=\"sap-icon://form\" visible=\"{= typeof ${OCR_Data>/resultOCR} !== 'undefined'}\">\n\t\t\t\t\t\t\t\t<VBox class=\"sapUiSmallMargin\">\n\t\t\t\t\t\t\t\t\t<f:SimpleForm editable=\"false\" layout=\"ResponsiveGridLayout\" title=\"Expense Details\" labelSpanXL=\"3\" labelSpanL=\"3\" labelSpanM=\"3\"\n\t\t\t\t\t\t\t\t\t\tlabelSpanS=\"12\" adjustLabelSpan=\"false\" emptySpanXL=\"4\" emptySpanL=\"4\" emptySpanM=\"4\" emptySpanS=\"0\" columnsXL=\"1\" columnsL=\"1\" columnsM=\"1\"\n\t\t\t\t\t\t\t\t\t\tsingleContainerFullSize=\"false\">\n\t\t\t\t\t\t\t\t\t\t<f:content>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Date\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ML_Data>/date}\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Amount / Currency\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ML_Data>/amount} {ML_Data>/currency}\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Company\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ML_Data>/company}\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Location\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ML_Data>/city}\"/>\n\t\t\t\t\t\t\t\t\t\t</f:content>\n\t\t\t\t\t\t\t\t\t</f:SimpleForm>\n\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t\t<IconTabFilter icon=\"sap-icon://background\" visible=\"{= typeof ${OCR_Data>/resultImageUrl} !== 'undefined' }\">\n\t\t\t\t\t\t\t\t<VBox class=\"sapUiSmallMargin\">\n\t\t\t\t\t\t\t\t\t<Image src=\"{OCR_Data>/resultImageUrl}\" tooltip=\"canvas\" densityAware=\"false\">\n\t\t\t\t\t\t\t\t\t\t<layoutData>\n\t\t\t\t\t\t\t\t\t\t\t<FlexItemData growFactor=\"1\"/>\n\t\t\t\t\t\t\t\t\t\t</layoutData>\n\t\t\t\t\t\t\t\t\t</Image>\n\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t\t<IconTabFilter icon=\"sap-icon://pdf-attachment\" visible=\"{= typeof ${OCR_Data>/resultPdfUrl} !== 'undefined' }\">\n\t\t\t\t\t\t\t\t<VBox class=\"sapUiSmallMargin\">\n\t\t\t\t\t\t\t\t\t<ScrollContainer height=\"100%\" width=\"100%\" horizontal=\"true\" vertical=\"true\">\n\t\t\t\t\t\t\t\t\t\t<FlexBox direction=\"Column\" renderType=\"Div\" class=\"sapUiSmallMargin\">\n\t\t\t\t\t\t\t\t\t\t\t<PDFViewer source=\"{OCR_Data>/resultPdfUrl}\" title=\"PDF File\" height=\"500px\"\n\t\t\t\t\t\t\t\t\t\t\t\twidth=\"100%\">\n\t\t\t\t\t\t\t\t\t\t\t\t<layoutData>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FlexItemData growFactor=\"1\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</layoutData>\n\t\t\t\t\t\t\t\t\t\t\t</PDFViewer>\n\t\t\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t\t\t</ScrollContainer>\n\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</IconTabBar>\n\t\t\t\t</content>\n\t\t\t\t<footer>\n\t\t\t\t\t<Toolbar width=\"100%\">\n\t\t\t\t\t\t<content>\n\t\t\t\t\t\t\t<unified:FileUploader id=\"fileUploader\" buttonOnly=\"true\" buttonText=\"Recognize receipt (Image/PDF)\" sameFilenameAllowed=\"true\"\n\t\t\t\t\t\t\t\tmultiple=\"false\" fileType=\"png,jpeg,jpg,bmp,tiff,tif,pdf\"\n\t\t\t\t\t\t\t\tmimeType=\"image/png,image/jpg,image/jpeg,image/bmp,image/tiff,application/pdf,application/x-pdf\" typeMissmatch=\"fileTypeMissmatch\"\n\t\t\t\t\t\t\t\tchange=\"getOCR\" custom:mode=\"xhr\" uploadUrl=\"{ML_Api>/urlOCR}\"></unified:FileUploader>\n\t\t\t\t\t\t</content>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</footer>\n\t\t\t</Page>\n\t\t</pages>\n\t</App>\n</mvc:View>"
	}
});